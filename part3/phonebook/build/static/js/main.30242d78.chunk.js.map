{"version":3,"sources":["components/Search.js","components/Form.js","components/ContactDetails.js","components/Contacts.js","services/personService.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Search","searchRes","searchHandler","value","onChange","Form","formHandler","newName","nameHandler","newNumber","numberHandler","onSubmit","className","type","ContactDetails","name","number","removeContact","onClick","Contacts","search","persons","filter","person","toLowerCase","includes","map","id","baseUrl","personService","getAll","axios","get","create","newPerson","post","update","newObject","put","remove","delete","Notification","message","Error","errorMsg","App","useState","setPersons","setNewName","setNewNumber","setSearch","setSearchRes","setMessage","setErrorMsg","useEffect","then","res","data","e","preventDefault","str","target","trim","length","nameObject","response","concat","setTimeout","window","confirm","updatedNumber","find","catch","error","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAeeA,EAbA,SAAC,GAAmC,IAAhCC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cAE1B,OACI,oDAEA,uBACAC,MAAOF,EACPG,SAAUF,QCgBHG,EAvBF,SAAC,GAAsE,IAAnEC,EAAkE,EAAlEA,YAAaC,EAAqD,EAArDA,QAASC,EAA4C,EAA5CA,YAAaC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,cAC3D,OACI,uBAAMC,SAAUL,EAAhB,UAEA,sBAAKM,UAAU,eAAf,mBACQ,uBACNT,MAAOI,EACPH,SAAUI,OAGZ,sBAAKI,UAAU,eAAf,qBACU,uBACVT,MAAOM,EACPL,SAAUM,OAGV,8BACE,wBAAQG,KAAK,SAAb,uB,QCPKC,EAVQ,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cAEpC,OACI,gCACA,+BAAKF,EAAL,IAAYC,KACX,wBAAQE,QAASD,EAAjB,wBCiBME,EArBM,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,OAAQC,EAAwC,EAAxCA,QAASpB,EAA+B,EAA/BA,UAAWgB,EAAoB,EAApBA,cAc5C,OAVIG,EACeC,EAAQC,QAAO,SAAAC,GAC9B,OACEA,EAAOR,KAAKS,cAAcC,SAASxB,EAAUuB,kBAInC,YAAOH,IAGDK,KAAI,SAAAH,GAAM,OAC5B,cAAC,EAAD,CACAN,cAAe,kBAAMA,EAAcM,EAAOI,GAAIJ,EAAOR,OACrCY,GAAIJ,EAAOI,GAAIZ,KAAMQ,EAAOR,KAAMC,OAAQO,EAAOP,QAA5DO,EAAOI,QClBlBC,EAAU,oCAqBDC,EAFO,CAAEC,OAjBT,WACX,OAAOC,IAAMC,IAAIJ,IAgBWK,OAbjB,SAAAC,GACX,OAAOH,IAAMI,KAAKP,EAASM,IAYSE,OATzB,SAACT,EAAIU,GACpB,OAAON,IAAMO,IAAN,UAAaV,EAAb,YAAwBD,GAAMU,IAQWE,OALjC,SAACZ,GACZ,OAAOI,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2BD,MCFvBc,EAbM,SAAC,GAAmB,IAAhBC,EAAe,EAAfA,QAErB,OAAgB,OAAZA,EACO,KAIP,qBAAK9B,UAAU,MAAf,SACK8B,KCGEC,EAXD,SAAC,GAAmB,IAAhBC,EAAe,EAAfA,SACd,OAAiB,OAAbA,EACO,KAGP,qBAAKhC,UAAU,QAAf,SACKgC,KC8HEC,EA7HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTzB,EADS,KACA0B,EADA,OAEcD,mBAAS,IAFvB,mBAETvC,EAFS,KAEAyC,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTrC,EAHS,KAGEwC,EAHF,OAIYH,oBAAS,GAJrB,mBAIT1B,EAJS,KAID8B,EAJC,OAKkBJ,mBAAS,IAL3B,mBAKT7C,EALS,KAKEkD,EALF,OAMcL,mBAAS,MANvB,mBAMTJ,EANS,KAMAU,EANA,OAOgBN,mBAAS,MAPzB,mBAOTF,EAPS,KAOCS,EAPD,KAUhBC,qBAAU,WACRzB,EAAcC,SAASyB,MAAK,SAACC,GAC3BT,EAAWS,EAAIC,WAEhB,IAqFH,OACE,gCACE,cAAC,EAAD,CAAQxD,UAAWA,EAAWC,cA3BZ,SAACwD,GACrBA,EAAEC,iBACF,IAAMC,EAAMF,EAAEG,OAAO1D,MACjByD,EAAIE,OAAOC,OAAS,EACtBb,GAAU,GAEVA,GAAU,GAEZC,EAAaS,MAqBX,2CACA,cAAC,EAAD,CAAOhB,SAAUA,IACjB,cAAC,EAAD,CAAcF,QAASA,IACvB,cAAC,EAAD,CACEpC,YA1Fc,SAACoD,GACnBA,EAAEC,iBAEF,IAAMK,EAAa,CACjBjD,KAAMR,EACNS,OAAQP,GAKV,GAAmB,IAFTY,EAAQC,QAAO,SAACC,GAAD,OAAYA,EAAOR,OAASiD,EAAWjD,QAExDgD,OACNlC,EAAcI,OAAO+B,GAAYT,MAAK,SAACU,GACrClB,EAAW1B,EAAQ6C,OAAOD,EAASR,OACnCT,EAAW,IACXC,EAAa,IACbG,EAAW,WAAD,OAAYY,EAAWjD,KAAvB,oBAEVoD,YAAW,WACTf,EAAW,QACV,aAGL,GACEgB,OAAOC,QAAP,UACKL,EAAWjD,KADhB,mDAGA,CACA,IAAMuD,EAAgBjD,EAAQkD,MAAK,SAAChD,GAAD,OAAYA,EAAOR,OAASR,KAE/DsB,EACGO,OAAOkC,EAAc3C,GADxB,2BACiC2C,GADjC,IACgDtD,OAAQP,KACrD8C,MAAK,SAACC,GACLT,EACE1B,EAAQC,QAAO,SAACC,GAAD,OACbA,EAAOR,OAASR,EAAUiD,EAAMjC,SAIrCiD,OAAM,SAACC,GACNpB,EAAY,WAAD,OAAYW,EAAWjD,KAAvB,sBAEXoD,YAAW,WACTd,EAAY,QACX,UAgDP9C,QAASA,EACTC,YA3Cc,SAACkD,GACnBV,EAAWU,EAAEG,OAAO1D,QA2ChBM,UAAWA,EACXC,cAzCgB,SAACgD,GACrBT,EAAaS,EAAEG,OAAO1D,UA2CpB,oBAAIS,UAAU,iBAAd,qBACA,cAAC,EAAD,CACEQ,OAAQA,EACRC,QAASA,EACTpB,UAAWA,EACXgB,cAlCgB,SAACU,EAAIZ,GACJqD,OAAOC,QAAP,0CACgBtD,EADhB,OAKnBc,EAAcU,OAAOZ,GAAI4B,MAAK,WAC5BR,EAAW1B,EAAQC,QAAO,SAACoD,GAAD,OAAOA,EAAE/C,KAAOA,MAC1CqB,EAAW,IACXC,EAAa,c,MClGrB0B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.30242d78.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Search = ( { searchRes, searchHandler }) => {\r\n  \r\n    return (\r\n        <div>\r\n        Filter shown with\r\n        <input\r\n        value={searchRes}\r\n        onChange={searchHandler}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Search","import React from 'react'\r\n\r\nconst Form = ( { formHandler, newName, nameHandler, newNumber, numberHandler }) => {\r\n    return (\r\n        <form onSubmit={formHandler}>\r\n       \r\n        <div className=\"form-element\">\r\n          name: <input \r\n          value={newName}\r\n          onChange={nameHandler}\r\n          /></div>\r\n          \r\n        <div className=\"form-element\">\r\n          number: <input \r\n        value={newNumber}\r\n        onChange={numberHandler}\r\n        /></div>\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst ContactDetails = ({ name, number, removeContact }) => {\r\n   \r\n    return (\r\n        <div>\r\n        <h3>{name} {number}</h3>\r\n         <button onClick={removeContact}>Delete</button> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactDetails","import React from 'react'\r\nimport ContactDetails from './ContactDetails'\r\n\r\n    const Contacts = ({ search, persons, searchRes, removeContact }) => {\r\n\r\n        let currentPersons = null;\r\n        \r\n        if (search) {\r\n          currentPersons = persons.filter(person => {\r\n            return (\r\n              person.name.toLowerCase().includes(searchRes.toLowerCase()) \r\n            );\r\n          });\r\n        } else {\r\n          currentPersons = [...persons];\r\n        }\r\n\r\n        return currentPersons.map(person => (\r\n            <ContactDetails \r\n            removeContact={() => removeContact(person.id, person.name)} \r\n            key={person.id} id={person.id} name={person.name} number={person.number} />\r\n        ));\r\n      };\r\n  \r\nexport default Contacts","import axios from 'axios';\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons';\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl);\r\n}\r\n\r\nconst create = newPerson => {\r\n    return axios.post(baseUrl, newPerson);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\nreturn axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n//Created variable to remove Assign object to a variable before exporting as module default warning\r\nconst personService = { getAll, create, update, remove }\r\n\r\nexport default personService\r\n","import React from 'react'\r\n\r\nconst Notification = ( { message } ) => {\r\n    \r\n    if (message === null){\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"msg\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ( { errorMsg }) => {\r\n    if (errorMsg === null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"error\">\r\n            {errorMsg}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Search from \"./components/Search\";\nimport Form from \"./components/Form\";\nimport Contacts from \"./components/Contacts\";\nimport personService from \"./services/personService\";\nimport Notification from \"./components/Notification\";\nimport Error from \"./components/Error\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(false);\n  const [searchRes, setSearchRes] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  //Hook for returning all the contacts from server\n  useEffect(() => {\n    personService.getAll().then((res) => {\n      setPersons(res.data);\n    });\n  }, []);\n\n  //Handler for form and logic for adding or editing contacts\n  const formHandler = (e) => {\n    e.preventDefault();\n\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    let arr = persons.filter((person) => person.name === nameObject.name);\n\n    if (arr.length === 0) {\n      personService.create(nameObject).then((response) => {\n        setPersons(persons.concat(response.data));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`Contact ${nameObject.name} has been added`);\n\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    } else {\n      if (\n        window.confirm(\n          `${nameObject.name} already exists, do you want to update number?`\n        )\n      ) {\n        const updatedNumber = persons.find((person) => person.name === newName);\n\n        personService\n          .update(updatedNumber.id, { ...updatedNumber, number: newNumber })\n          .then((res) => {\n            setPersons(\n              persons.filter((person) =>\n                person.name === newName ? res : person\n              )\n            );\n          })\n          .catch((error) => {\n            setErrorMsg(`Contact ${nameObject.name} has been removed`);\n\n            setTimeout(() => {\n              setErrorMsg(null);\n            }, 5000);\n          });\n      }\n    }\n  };\n\n  const nameHandler = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const numberHandler = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const searchHandler = (e) => {\n    e.preventDefault();\n    const str = e.target.value;\n    if (str.trim().length > 0) {\n      setSearch(true);\n    } else {\n      setSearch(false);\n    }\n    setSearchRes(str);\n  };\n\n  const removeContact = (id, name) => {\n    const confirmation = window.confirm(\n      `Are you sure you want to delete ${name}?`\n    );\n\n    if (confirmation) {\n      personService.remove(id).then(() => {\n        setPersons(persons.filter((n) => n.id !== id));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    }\n  };\n\n  return (\n    <div>\n      <Search searchRes={searchRes} searchHandler={searchHandler} />\n\n      <h2>Phonebook</h2>\n      <Error errorMsg={errorMsg} />\n      <Notification message={message} />\n      <Form\n        formHandler={formHandler}\n        newName={newName}\n        nameHandler={nameHandler}\n        newNumber={newNumber}\n        numberHandler={numberHandler}\n      />\n\n      <h2 className=\"numbers-header\">Numbers</h2>\n      <Contacts\n        search={search}\n        persons={persons}\n        searchRes={searchRes}\n        removeContact={removeContact}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}